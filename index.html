<!doctype html>
<html lang="hr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vješala — hrvatska verzija</title>
<style>
:root{
    --bg: linear-gradient(135deg,#0f172a 0%, #1e293b 45%, #0b1020 100%);
    --panel: rgba(255,255,255,.08);
    --panel-strong: rgba(255,255,255,.14);
    --text: #e6edf6;
    --muted: #94a3b8;
    --accent: #7dd3fc;
    --accent-2:#a78bfa;
    --good:#34d399;
    --bad:#f87171;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 16px;
}
body { margin:0; font-family: sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }
header { text-align:center; padding: 1rem; font-size: 1.5rem; font-weight: bold; }
main { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: 1rem; gap: 1rem; }
.panel { background: var(--panel); border-radius: var(--radius); padding: 1rem; box-shadow: var(--shadow); }
.word { display: flex; gap: .5rem; font-size: 2rem; flex-wrap: wrap; justify-content: center; }
.slot { border-bottom: 2px solid var(--muted); width: 1.5em; text-align: center; }
.slot.space { border-bottom: none; }
.slot.revealed { color: #e6f7ef; border-bottom-color: rgba(52,211,153,.65); }
.slot.goodflash { background: rgba(52,211,153,.18); transition: background .6s ease; }
.slot.badflash  { background: rgba(248,113,113,.18); transition: background .6s ease; }
.keyboard { display: grid; grid-template-columns: repeat(auto-fit,minmax(2.2rem,1fr)); gap: .4rem; max-width: 500px; }
.key { padding: .5rem; text-align: center; background: var(--panel-strong); border-radius: 8px; cursor: pointer; user-select: none; }
.key.good { background: var(--good); color: #000; }
.key.bad { background: var(--bad); color: #000; }
.controls { display: flex; gap: .5rem; flex-wrap: wrap; justify-content: center; }
button { background: var(--accent-2); color: white; border: none; padding: .5rem 1rem; border-radius: 8px; cursor: pointer; }
button:hover { opacity: .9; }
.message { font-size: 1.2rem; min-height: 1.4em; text-align:center; }
</style>
</head>
<body>
<header>🎯 Vješala — hrvatska verzija</header>
<main>
  <div class="panel" id="wordPanel">
    <div class="word" id="wordSlots"></div>
  </div>
  <div class="controls">
    <input type="text" id="wordInput" placeholder="Upiši riječ..." />
    <button id="setWordBtn">Postavi riječ</button>
    <button id="guessWordBtn">Pogodi riječ</button>
    <button id="randomWordBtn">Nasumična riječ</button>
  </div>
  <div class="keyboard" id="keyboard"></div>
  <div class="message" id="message"></div>
</main>

<script>
const letters = [..."ABCČĆDĐEFGHIJKLMNOPRSŠTUVZŽ"];
let secretWord = "";
let revealed = [];
let badGuesses = 0;

const els = {
  slots: document.getElementById('wordSlots'),
  keyboard: document.getElementById('keyboard'),
  msg: document.getElementById('message'),
  input: document.getElementById('wordInput'),
  setBtn: document.getElementById('setWordBtn'),
  guessBtn: document.getElementById('guessWordBtn'),
  randomBtn: document.getElementById('randomWordBtn')
};

function drawSlots() {
  els.slots.innerHTML = "";
  secretWord.split("").forEach(ch=>{
    const slot = document.createElement('div');
    slot.className = ch===" " ? "slot space" : "slot";
    slot.textContent = (revealed.includes(ch) ? ch : "");
    els.slots.appendChild(slot);
  });
}

function setWord(word) {
  secretWord = word.toUpperCase();
  revealed = [];
  badGuesses = 0;
  drawSlots();
  drawKeyboard();
  els.msg.textContent = "";
}

function drawKeyboard() {
  els.keyboard.innerHTML = "";
  letters.forEach(l=>{
    const k = document.createElement('div');
    k.className = "key";
    k.textContent = l;
    k.onclick = ()=> handleLetter(l, k);
    els.keyboard.appendChild(k);
  });
}

function handleLetter(letter, keyEl) {
  if (revealed.includes(letter) || keyEl.classList.contains('bad')) return;
  if (secretWord.includes(letter)) {
    revealed.push(letter);
    keyEl.classList.add('good');
    revealLetter(letter);
    checkWin();
  } else {
    keyEl.classList.add('bad');
    badGuesses++;
    flashBad();
    checkLose();
  }
}

function revealLetter(letter) {
  [...els.slots.children].forEach(slot=>{
    if (slot.textContent==="" && !slot.classList.contains('space') && secretWord[ [...els.slots.children].indexOf(slot) ]===letter) {
      slot.textContent = letter;
      slot.classList.add('revealed','goodflash');
      setTimeout(()=> slot.classList.remove('goodflash'), 600);
    }
  });
}

function flashBad(){
  els.slots.querySelectorAll('.slot:not(.space)').forEach(s=>{
    s.classList.add('badflash');
    setTimeout(()=> s.classList.remove('badflash'), 300);
  });
}

function checkWin(){
  if (secretWord.split("").every(ch=>ch===" " || revealed.includes(ch))) {
    els.msg.textContent = "🎉 Bravo, pogodio si!";
  }
}

function checkLose(){
  if (badGuesses>=10) {
    els.msg.textContent = `💀 Obješen! Riječ je bila: ${secretWord}`;
    [...els.slots.children].forEach((slot,i)=>{
      if (slot.textContent==="" && !slot.classList.contains('space')) {
        slot.textContent = secretWord[i];
        slot.classList.add('revealed');
      }
    });
  }
}

els.setBtn.onclick = ()=>{
  if (els.input.value.trim()) setWord(els.input.value.trim());
};

els.randomBtn.onclick = ()=>{
  const words = ["PROGRAMIRANJE","VJEŠALA","RAČUNALO","PYTHON","JABUKA","LAVANDA","MORE","SUNCE"];
  setWord(words[Math.floor(Math.random()*words.length)]);
};

els.guessBtn.onclick = ()=>{
  const guess = els.input.value.trim().toUpperCase();
  if (!guess) return;
  if (guess===secretWord) {
    secretWord.split("").forEach(ch=>{ if (ch!==" ") revealed.push(ch); });
    drawSlots();
    els.msg.textContent = "🎉 Bravo, pogodio si cijelu riječ!";
  } else {
    els.msg.textContent = "❌ Pogrešna riječ!";
    badGuesses++;
    flashBad();
    checkLose();
  }
};

setWord("");
</script>
</body>
</html>
